<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.18.1.final using JasperReports Library version 5.5.0  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rech_gutschrift" pageWidth="595" pageHeight="842" whenNoDataType="BlankPage" columnWidth="525" leftMargin="56" rightMargin="14" topMargin="0" bottomMargin="0" isSummaryWithPageHeaderAndFooter="true" uuid="57be6bb0-47d4-496f-a056-7b5aa5719342">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="720"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="P_BELEGKENNUNG" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["P_BELEGKENNUNG"]]></defaultValueExpression>
	</parameter>
	<parameter name="P_KUNDE_ADRESSBLOCK" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_UID" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["P_KUNDE_UID"]]></defaultValueExpression>
	</parameter>
	<parameter name="P_UNSER_ZEICHEN" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_BELEGDATUM" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_WAEHRUNG" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MANDANT_ANREDE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_BENUTZER_ANREDE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MEHRWERTSTEUER" class="java.lang.Double" isForPrompting="false"/>
	<parameter name="P_MEHRWERTSTEUERBETRAG" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_RECHNUNGSENDBETRAG" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="REPORT_DIRECTORY" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[Pfad zu diesem Report]]></parameterDescription>
	</parameter>
	<parameter name="P_MANDANTADRESSE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LOGO_IMAGE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LOGO_SUBREPORT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_FUSSZEILEN_SUBREPORT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KOPIE_NUMMER" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_LINKS" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_RECHTS" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_RABATTSPALTE_DRUCKEN" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_MITLOGO" class="java.lang.Boolean" isForPrompting="false">
		<parameterDescription><![CDATA[Logodruck:
0 ... Ohne Logo
1 ... Mit Logo]]></parameterDescription>
		<defaultValueExpression><![CDATA[new Boolean(true)]]></defaultValueExpression>
	</parameter>
	<parameter name="P_MWST_TABELLE_WAEHRUNG" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_BETRAG" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETER" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_RECHNUNGSNUMMER" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KOSTENSTELLE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ANSPRECHPARTNEREMAIL" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ANSPRECHPARTNERFAX" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ANSPRECHPARTNERTELEFON" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_DEBITORENKONTO" class="java.lang.String" isForPrompting="false"/>
	<parameter name="REPORT_ROOT_DIRECTORY" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[Pfad zu allen Reports]]></parameterDescription>
	</parameter>
	<parameter name="P_KUNDE_DEBITORENKONTO" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETEREMAIL" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETERFAX" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETERTELEFON" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_STORNIERT" class="java.lang.Boolean" isForPrompting="false">
		<parameterDescription><![CDATA[1 ... Storniert]]></parameterDescription>
	</parameter>
	<parameter name="P_IGWARENVERKEHR" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_WARENERKLAERUNG" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_REVERSECHARGE_INLAND" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_REVERSECHARGE_AUSLAND" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_VERTRETER_ANREDE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KOPFTEXT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_FUSSTEXT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_EIGENTUMSVORBEHALT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERBEDINGUNGEN" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERART" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERADRESSE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_FREMDSYSTEMNR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERANTENNR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_SKONTO1DATUM" class="java.util.Date" isForPrompting="false"/>
	<parameter name="P_SKONTO2DATUM" class="java.util.Date" isForPrompting="false"/>
	<parameter name="P_SKONTO1ANZAHLTAGE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_SKONTO2ANZAHLTAGE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_SKONTO1PROZENTSATZ" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_SKONTO2PROZENTSATZ" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_BETRAGNURSKONTO1" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_BETRAGNURSKONTO2" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_ZIELDATUMNETTO" class="java.util.Date" isForPrompting="false"/>
	<parameter name="P_ANZAHLUNGEN" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_RECHNUNGSART" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_RECHNUNGSENDBETRAG2" class="java.math.BigDecimal" isForPrompting="false">
		<parameterDescription><![CDATA[nach Abzug der Anzahlungen]]></parameterDescription>
	</parameter>
	<parameter name="P_ANZAHLUNGENDETAILS" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_DEBITORENKONTO_1" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_FREMDSYSTEMNR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_TOUR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_HINWEISEXTERN" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_TOUR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MANDANT_ANREDE_UND_NAME" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETER_UNTERSCHRIFTSFUNKTION_UND_NAME" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERTRETER_UNTERSCHRIFTSTEXT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERKUNDE_FIRMENBUCHNUMMER" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_RECHNUNG_KUNDE_FIRMENBUCHNUMMER" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_KUNDE_KUNDENNUMMER" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_LIEFERKUNDE_KUNDENNUMMER" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_MAXIMALE_ABWEICHUNG" class="java.lang.Double" isForPrompting="false"/>
	<parameter name="P_BEARBEITER" class="com.lp.util.report.PersonRpt" isForPrompting="false"/>
	<parameter name="P_RECHNUNG_KUNDE_DEBITORENKONTO" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ALLGEMEINER_RABATT" class="java.lang.Double" isForPrompting="false"/>
	<parameter name="P_SPEDITEUR_ADRESSBLOCK" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LIEFERART_ORT" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_WERBEABGABE_PROZENT" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_WERBEABGABE_ARTIKEL" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_PROJEKTNUMMER" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_SUBREPORT_PARTNERKOMMENTAR" class="java.lang.Object" isForPrompting="false"/>
	<parameter name="P_KUNDE_LAENDERART" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_GUTSCHRIFT_NENNT_SICH_RECHNUNGSKORREKTUR" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_BRIEFANREDE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ZAHLUNGSKONDITION" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_VERPACKUNGSMENGEN_EINGABE" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_DRUCKTYPE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_PERSON_AENDERN" class="com.lp.util.report.PersonRpt" isForPrompting="false"/>
	<parameter name="P_KUPFERZAHL" class="java.math.BigDecimal" isForPrompting="false"/>
	<parameter name="P_BELEGDATUM_ZU_RECHNUNGSNUMMER" class="java.util.Date" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_LINKS_ZUSAETZLICH" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_RECHTS_ZUSAETZLICH" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_WAEHRUNG_ZUSAETZLICH" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_MWST_TABELLE_BETRAG_ZUSAETZLICH" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_ZUSCHLAG_INKLUSIVE" class="java.lang.Boolean" isForPrompting="false"/>
	<parameter name="P_AUFTRAG_ANZAHL" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_LIEFERSCHEIN_ANZAHL" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_EMAIL_RECHNUNGSEMPFANG" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_LKZ_KUNDE" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_IHRE_BESTELLNUMMER" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="P_SPEDITEUR_ACCOUNTINGNR" class="java.lang.String" isForPrompting="false"/>
	<parameter name="P_AENDERUNGSAUFTRAG_VERSION" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_PROJEKT_I_ID" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="P_SUBDIRECTORY" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[Das Kostenstellenverzeichnis des Reports]]></parameterDescription>
	</parameter>
	<parameter name="P_MODUL" class="java.lang.String" isForPrompting="false">
		<parameterDescription><![CDATA[Das aktuelle Reportmodul]]></parameterDescription>
	</parameter>
	<parameter name="MANDANT_C_NR" class="java.lang.String">
		<parameterDescription><![CDATA[Der aktuelle Mandant]]></parameterDescription>
	</parameter>
	<parameter name="P_VERTRETER2_TELEFON_FIRMA_MIT_DW" class="java.lang.String"/>
	<parameter name="P_VERTRETER_TELEFON_FIRMA_MIT_DW" class="java.lang.String" isForPrompting="false"/>
	<field name="Position" class="java.lang.Integer"/>
	<field name="Ident" class="java.lang.String"/>
	<field name="Menge" class="java.math.BigDecimal"/>
	<field name="Einheit" class="java.lang.String"/>
	<field name="Einzelpreis" class="java.math.BigDecimal"/>
	<field name="Rabatt" class="java.lang.Float"/>
	<field name="Gesamtpreis" class="java.math.BigDecimal"/>
	<field name="Positionsart" class="java.lang.String"/>
	<field name="Freiertext" class="java.lang.String"/>
	<field name="Leerzeile" class="java.lang.String"/>
	<field name="Seitenumbruch" class="java.lang.Boolean"/>
	<field name="Image" class="java.lang.Object"/>
	<field name="Mwstsatz" class="java.lang.Double"/>
	<field name="Mwstbetrag" class="java.math.BigDecimal"/>
	<field name="F_STKLMENGE" class="java.math.BigDecimal"/>
	<field name="F_STKLEINHEIT" class="java.lang.String"/>
	<field name="F_STKLARTIKELCNR" class="java.lang.String"/>
	<field name="F_STKLARTIKELBEZ" class="java.lang.String"/>
	<field name="F_BEZEICHNUNG" class="java.lang.String"/>
	<field name="F_KURZBEZEICHNUNG" class="java.lang.String"/>
	<field name="F_IDENTNUMMER" class="java.lang.String"/>
	<field name="F_CHARGE_MINDESTHALTBARKEIT" class="java.lang.String"/>
	<field name="F_SERIENCHARGENR" class="java.lang.String"/>
	<field name="F_SERIENCHARGENR_MENGE" class="java.math.BigDecimal"/>
	<field name="F_ZUSATZRABATT" class="java.lang.Float"/>
	<field name="F_POSITIONSOBJEKT" class="com.lp.util.report.PositionRpt"/>
	<field name="AUFTRAG_BESTELLDATUM" class="java.util.Date"/>
	<field name="AUFTRAG_BESTELLNUMMER" class="java.lang.String"/>
	<field name="AUFTRAG_NUMMER" class="java.lang.String"/>
	<field name="AUFTRAG_PROJEKT" class="java.lang.String"/>
	<field name="F_WARENVERKEHRSNUMMER" class="java.lang.String"/>
	<field name="F_KUNDEARTIKELNR" class="java.lang.String"/>
	<field name="F_VERPACKUNGSEANNR" class="java.lang.String"/>
	<field name="F_VERKAUFSEANNR" class="java.lang.String"/>
	<field name="F_REFERENZNUMMER" class="java.lang.String"/>
	<field name="F_ARTIKELKOMMENTAR" class="java.lang.String"/>
	<field name="F_ZUSATZBEZEICHNUNG" class="java.lang.String"/>
	<field name="F_ARTIKELCZBEZ2" class="java.lang.String"/>
	<field name="F_ARTIKEL_URSPRUNGSLAND" class="java.lang.String"/>
	<field name="F_ARTIKEL_ARTIKELGRUPPE" class="java.lang.String"/>
	<field name="F_TYP_CNR" class="java.lang.String"/>
	<field name="F_IDENT_TEXTEINGABE" class="java.lang.String"/>
	<field name="F_ARTIKEL_VERPACKUNGSART" class="java.lang.String"/>
	<field name="F_SETARTIKEL_TYP" class="java.lang.String"/>
	<field name="F_ARTIKEL_WERBEABGABEPFLICHTIG" class="java.lang.Boolean"/>
	<field name="F_STKLARTIKEL_KDPREIS" class="java.math.BigDecimal"/>
	<field name="Materialzuschlag" class="java.math.BigDecimal"/>
	<field name="F_ARTIKEL_MATERIALGEWICHT" class="java.lang.Double"/>
	<field name="F_ARTIKEL_KURS_MATERIALZUSCHLAG" class="java.math.BigDecimal"/>
	<field name="F_ARTIKEL_MATERIAL" class="java.lang.String"/>
	<field name="F_VERSION" class="java.lang.String"/>
	<field name="F_ZWSPOSPREISDRUCKEN" class="java.lang.Short">
		<fieldDescription><![CDATA[Sollen die Positionspreise gedruckt werden?]]></fieldDescription>
	</field>
	<field name="F_LAGER_UEBERSTEUERT_AUS_LIEFERSCHEIN" class="java.lang.String"/>
	<field name="F_ERLOESKONTO_DTO" class="com.lp.server.finanz.service.ReportErloeskontoDto">
		<fieldDescription><![CDATA[Zur normalen Verwendung einfach $F_ERLOESKONTO_DTO als (Text)Expression verwenden. Konnte das Erloeskonto fehlerfrei ermittelt werden, wird die CNR des Kontos (also die Kontonummer) zurückgeliefert. Konnte kein Erloeskonto ermittelt werden - weil beispielsweise Setartikelkopfartikel - wird null zurückgeliefert. Das läßt sich mittels "print blank if null" sauber lösen. Es gibt natürlich noch den Fall, dass $F_ERLOESKONTO_DTO selbst null ist - wenn zum Beispiel das Feld nicht gefüllt wird (Texteingabe, Textbaustein, ...). Hier greift ebenfalls "print blank if null".

Im Fehlerfall wird immer der einleitende Text "FEHLER: " zurückgeliefert und danach anschließend die (technische) Meldung, die üblicherweise bei einem schweren Fehler ausgegeben wird.
"FEHLER: java.lang.Exception: Kontolaenderart fuer Konto i_id 235,4052 Serienfertigung Geräte sonstige, Drittland ist nicht definiert"

Ist es notwendig die KontoId oder Fehlernummer zu erfahren, kann auf $F_ERLOESKONTO_DTO.get*() zugegriffen werden. [Bedingt natürlich, dass lpclientpc.jar aktualisiert worden ist, auch auf dem Rechner auf dem die Reports erstellt werden. ]]]></fieldDescription>
	</field>
	<field name="F_LS_LIEFERADRESSE" class="java.lang.String"/>
	<field name="Auftragspositionsnummer" class="java.lang.Integer"/>
	<field name="F_FORECAST_NUMMER" class="java.lang.String"/>
	<field name="F_FORECAST_PROJEKT" class="java.lang.String"/>
	<field name="F_FORECAST_BEMERKUNG" class="java.lang.String"/>
	<field name="F_FORECAST_BESTELLNUMMER" class="java.lang.String"/>
	<field name="F_ARTIKEL_MATERIAL_AUS_KUNDEMATERIAL" class="java.lang.String"/>
	<field name="F_ARTIKEL_MATERIALBASIS_AUS_KUNDEMATERIAL" class="java.math.BigDecimal"/>
	<field name="F_ARTIKEL_AUFSCHLAG_PROZENT" class="java.lang.Double"/>
	<field name="F_ARTIKEL_AUFSCHLAG_BETRAG" class="java.math.BigDecimal"/>
	<field name="AUFTRAG_AENDERUNGSAUFTRAG_VERSION" class="java.lang.Integer"/>
	<field name="F_ARTIKEL_PRAEFERENZBEGUENSTIGT" class="java.lang.Boolean"/>
	<field name="F_KUNDEARTIKELBEZEICHNUNG" class="java.lang.String"/>
	<variable name="Storno_zu_RE" class="java.lang.String" resetType="None" calculation="First">
		<variableExpression><![CDATA[($F{Positionsart}.equals("Betrifft       ") &&
 $V{Storno_zu_RE} == null &&
 $F{Freiertext}.toUpperCase().contains("STORNO")) ?
$F{Freiertext} : $V{Storno_zu_RE}]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="V_SUMME_GESAMTPREIS" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{Gesamtpreis}]]></variableExpression>
	</variable>
	<variable name="V_RABATTSATZ" class="java.math.BigDecimal">
		<variableExpression><![CDATA[new BigDecimal($P{P_ALLGEMEINER_RABATT}.floatValue()).setScale(2, BigDecimal.ROUND_HALF_UP).movePointLeft(2)]]></variableExpression>
	</variable>
	<variable name="V_RABATTSUMME" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{V_SUMME_GESAMTPREIS}.multiply($V{V_RABATTSATZ})]]></variableExpression>
	</variable>
	<variable name="V_ALLGEMEINER_RABATT" class="java.lang.Boolean">
		<variableExpression><![CDATA[new Boolean($P{P_ALLGEMEINER_RABATT}!=null&&$P{P_ALLGEMEINER_RABATT}.doubleValue()>0)]]></variableExpression>
	</variable>
	<variable name="V_AUFTRAGSNUMMER_GROUPING" class="java.lang.String">
		<variableExpression><![CDATA[$F{AUFTRAG_NUMMER} != null ? $F{AUFTRAG_NUMMER} : $V{V_AUFTRAGSNUMMER_GROUPING}]]></variableExpression>
		<initialValueExpression><![CDATA[null]]></initialValueExpression>
	</variable>
	<variable name="V_ENDBETRAG" class="java.math.BigDecimal" resetType="None">
		<variableExpression><![CDATA[$V{V_SUMME_GESAMTPREIS}.subtract($V{V_RABATTSUMME})]]></variableExpression>
	</variable>
	<variable name="SubPosition" class="java.lang.Integer" resetType="None">
		<variableExpression><![CDATA[$F{F_SETARTIKEL_TYP}==null || !($F{Positionsart}.equals("Ident          ") || $F{Positionsart}.equals("Handeingabe    "))
? $V{SubPosition} :
(
 $F{F_SETARTIKEL_TYP}.compareTo( "Kopf" ) == 0 ?
 new Integer(0)
 :
 new Integer($V{SubPosition}.intValue()+1) )]]></variableExpression>
	</variable>
	<variable name="GS_KORR_FAKTOR" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$P{P_GUTSCHRIFT_NENNT_SICH_RECHNUNGSKORREKTUR}
? new BigDecimal(-1.00)
: new BigDecimal(1.00)]]></variableExpression>
	</variable>
	<variable name="Verpackung_Karton" class="java.lang.Integer">
		<variableExpression><![CDATA[(int)($F{Menge}.doubleValue()/
$F{F_POSITIONSOBJEKT}.getFVerpackungsmenge().doubleValue())]]></variableExpression>
	</variable>
	<variable name="Verpackung_Einzel" class="java.lang.Double">
		<variableExpression><![CDATA[$F{Menge}.doubleValue() -
$V{Verpackung_Karton}.doubleValue() * $F{F_POSITIONSOBJEKT}.getFVerpackungsmenge().doubleValue()]]></variableExpression>
	</variable>
	<group name="Rechnungspositionen" isStartNewPage="true" isReprintHeaderOnEachPage="true">
		<groupExpression><![CDATA[$F{Seitenumbruch}]]></groupExpression>
		<groupHeader>
			<band height="27" splitType="Stretch">
				<staticText>
					<reportElement key="Pos" mode="Transparent" x="0" y="0" width="23" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="debc16aa-b22e-4b60-b203-3546cb46d44e"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Pos]]></text>
				</staticText>
				<staticText>
					<reportElement key="Artikelnr Bezeichnung" mode="Transparent" x="35" y="0" width="110" height="24" forecolor="#000000" backcolor="#FFFFFF" uuid="86404c4a-1daf-4c7b-bfa5-c0c74217612a"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Artikelnummer
Bezeichnung]]></text>
				</staticText>
				<staticText>
					<reportElement key="Menge" mode="Transparent" x="240" y="0" width="50" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="8f48b8a7-0b26-4037-b089-af0c6ba37dd3"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Menge]]></text>
				</staticText>
				<staticText>
					<reportElement key="ME" mode="Transparent" x="295" y="0" width="35" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="3fbf409c-a535-4ba0-9532-7623b097bcab"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[ME]]></text>
				</staticText>
				<staticText>
					<reportElement key="Preis/Einh." mode="Transparent" x="320" y="0" width="65" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="96b51e22-836d-485b-840b-c032a037dfb6"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Preis/Einh.]]></text>
				</staticText>
				<textField pattern="" isBlankWhenNull="false">
					<reportElement key="WAEHRUNG" mode="Transparent" x="320" y="12" width="65" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="976e695d-0306-4f11-88f8-693b117177da"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression><![CDATA["in " + $P{P_WAEHRUNG}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement key="Rabatt ZR[%]" mode="Transparent" x="387" y="0" width="30" height="24" forecolor="#000000" backcolor="#FFFFFF" uuid="ce6019ab-96da-4a2d-985f-78eb660cf665">
						<printWhenExpression><![CDATA[$P{P_RABATTSPALTE_DRUCKEN}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Center" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="9" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Rabatt
ZR[%]]]></text>
				</staticText>
				<staticText>
					<reportElement key="Gesamtpreis" mode="Transparent" x="415" y="0" width="70" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="10918b75-22b0-4593-bfb7-745a1d4a6132"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<text><![CDATA[Gesamtpreis]]></text>
				</staticText>
				<textField pattern="" isBlankWhenNull="false">
					<reportElement key="WAEHRUNG" mode="Transparent" x="415" y="12" width="70" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="aeb34045-c03f-42ce-9d77-14dda36df857"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
					</box>
					<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
						<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
					</textElement>
					<textFieldExpression><![CDATA["in " + $P{P_WAEHRUNG}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement key="line-1" mode="Opaque" x="0" y="25" width="505" height="1" forecolor="#000000" backcolor="#FFFFFF" uuid="4978bf7f-b855-49e9-ae83-7a6426481c5c"/>
					<graphicElement fill="Solid">
						<pen lineWidth="0.5" lineStyle="Solid"/>
					</graphicElement>
				</line>
			</band>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band height="842" splitType="Stretch">
			<subreport isUsingCache="true">
				<reportElement key="subreport-5" mode="Opaque" x="-56" y="0" width="595" height="842" forecolor="#000000" backcolor="#FFFFFF" uuid="58941995-1a09-4deb-bb22-0c9378dfd285"/>
				<subreportParameter name="REPORT_ROOT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_ROOT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LKZ">
					<subreportParameterExpression><![CDATA[$P{P_LKZ_KUNDE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MITLOGO">
					<subreportParameterExpression><![CDATA[$P{P_MITLOGO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_WAEHRUNG">
					<subreportParameterExpression><![CDATA[$P{P_WAEHRUNG}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LOGO_SUBREPORT">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_SUBREPORT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LOGO">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_IMAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_FUSSZEILEN_SUBREPORT">
					<subreportParameterExpression><![CDATA[$P{P_FUSSZEILEN_SUBREPORT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="REPORT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LOGO_IMAGE">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_IMAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="KOPIE_NUMMER">
					<subreportParameterExpression><![CDATA[$P{P_KOPIE_NUMMER}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="PAGE_NUMBER">
					<subreportParameterExpression><![CDATA[$V{PAGE_NUMBER}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File($P{P_LOGO_SUBREPORT}.replaceFirst("logo.","background.")).toURL()]]></subreportExpression>
			</subreport>
		</band>
	</background>
	<title>
		<band height="332" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<subreport isUsingCache="true">
				<reportElement key="Background_Erste_Seite-1" mode="Transparent" x="-56" y="0" width="595" height="300" forecolor="#000000" backcolor="#FFFFFF" uuid="3ae190c0-cde9-464e-8b73-52ae52d4d751"/>
				<subreportParameter name="P_LOGO">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_IMAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MITLOGO">
					<subreportParameterExpression><![CDATA[$P{P_MITLOGO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="REPORT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="REPORT_ROOT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_ROOT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LOGO_IMAGE">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_IMAGE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_LOGO_SUBREPORT">
					<subreportParameterExpression><![CDATA[$P{P_LOGO_SUBREPORT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_FUSSZEILEN_SUBREPORT">
					<subreportParameterExpression><![CDATA[$P{P_FUSSZEILEN_SUBREPORT}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File($P{P_LOGO_SUBREPORT}.replaceFirst("logo.","background1.")).toURL()]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true">
				<reportElement key="Mandantenadresse" mode="Transparent" x="0" y="134" width="292" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="2675d9a5-bc37-4a36-bebf-04535b699475">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<subreportParameter name="P_MANDANTADRESSE">
					<subreportParameterExpression><![CDATA[$P{P_MANDANTADRESSE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File($P{P_LOGO_SUBREPORT}.replaceFirst("logo.","mandanten_absender.")).toURL()]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="false">
				<reportElement key="KUNDE_ADRESSBLOCK" mode="Transparent" x="0" y="146" width="292" height="84" forecolor="#000000" backcolor="#FFFFFF" uuid="35e0a170-5a4e-4088-b207-b457d0cc2906">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_KUNDE_ADRESSBLOCK}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="Storno-1" mode="Transparent" x="0" y="265" width="292" height="23" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="c95cbdb9-843a-49f5-b81c-2cd2d8503812">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<printWhenExpression><![CDATA[$P{P_STORNIERT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="18" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Storno"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="KOPFTEXT-1" mode="Transparent" x="0" y="320" width="505" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="fdc38cb1-804a-4ceb-bf0c-e53ea674b13c">
					<printWhenExpression><![CDATA[$P{P_KOPFTEXT}.length() > 5]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="styled">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_KOPFTEXT}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="Versand per EMail" mode="Transparent" x="0" y="253" width="90" height="12" forecolor="#FFFFFF" backcolor="#000000" uuid="40149503-055e-4bcf-87f6-4936ade9cfa6">
					<printWhenExpression><![CDATA[$P{P_EMAIL_RECHNUNGSEMPFANG} != null]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Versand per Email"]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="P_KOPIE_NUMMER" mode="Transparent" x="0" y="288" width="292" height="10" forecolor="#000000" backcolor="#FFFFFF" uuid="35810a90-18cd-444f-816a-c923fde58dfc">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<printWhenExpression><![CDATA[new Boolean($P{P_KOPIE_NUMMER} != null)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_KOPIE_NUMMER} + ". Kopie"]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="P_LABELAUFTRAGCNR + P_BELEGKENNUNG" mode="Transparent" x="0" y="298" width="504" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="5c434486-4884-43e4-b577-ce69a50f928d"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Storno_zu_RE} == null ?
($P{P_GUTSCHRIFT_NENNT_SICH_RECHNUNGSKORREKTUR} ?
    "RECHNUNGSKORREKTUR NR: RK " + $P{P_BELEGKENNUNG} :
    $P{P_RECHNUNGSART}.toUpperCase()+" NR: GS " + $P{P_BELEGKENNUNG}
) :
"STORNO NR: "+ $P{P_BELEGKENNUNG}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="P_ANSPRECHPARTNERTELEFON" mode="Transparent" x="295" y="122" width="212" height="10" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="687aefb3-e14a-4139-8432-c69562d2760f">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_BELEGDATUM}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="Kopf" mode="Transparent" x="295" y="134" width="220" height="163" forecolor="#000000" backcolor="#FFFFFF" uuid="4bdd399d-0ad9-4bf6-ba6b-d117674cd8ae"/>
				<subreportParameter name="P_PARTNER_UID_LABEL">
					<subreportParameterExpression><![CDATA["Ihre UID:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_UID">
					<subreportParameterExpression><![CDATA[$P{P_KUNDE_UID}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_NUMMER_LABEL">
					<subreportParameterExpression><![CDATA["Ihre Kundennummer:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_NUMMER">
					<subreportParameterExpression><![CDATA[$P{P_DEBITORENKONTO}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RUECKFRAGEN_AN_LABEL">
					<subreportParameterExpression><![CDATA["Rückfragen an:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RUECKFRAGEN_AN_NAME">
					<subreportParameterExpression><![CDATA[$P{P_VERTRETER}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RUECKFRAGEN_AN_TELEFON">
					<subreportParameterExpression><![CDATA[$P{P_VERTRETER_TELEFON_FIRMA_MIT_DW}.lastIndexOf("+") > 1 ? $P{P_VERTRETERTELEFON} : $P{P_VERTRETER_TELEFON_FIRMA_MIT_DW}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RUECKFRAGEN_AN_E_MAIL">
					<subreportParameterExpression><![CDATA[$P{P_VERTRETEREMAIL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_UNSERE_NUMMER_LABEL">
					<subreportParameterExpression><![CDATA["Unsere Lieferantennummer:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_UNSERE_NUMMER">
					<subreportParameterExpression><![CDATA[$P{P_LIEFERANTENNR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_AP_LABEL">
					<subreportParameterExpression><![CDATA["Unser Kontakt bei Ihnen:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_AP_TELEFON">
					<subreportParameterExpression><![CDATA[$P{P_ANSPRECHPARTNERTELEFON}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PARTNER_AP_E_MAIL">
					<subreportParameterExpression><![CDATA[$P{P_ANSPRECHPARTNEREMAIL}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PROJEKT_LABEL">
					<subreportParameterExpression><![CDATA["Projekt:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_PROJEKT">
					<subreportParameterExpression><![CDATA[$P{P_PROJEKTNUMMER}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_BESTELLUNG_LABEL">
					<subreportParameterExpression><![CDATA["Ihre Bestellung:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_BESTELLUNG">
					<subreportParameterExpression><![CDATA[$P{P_IHRE_BESTELLNUMMER}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RECHNUNG_LABEL">
					<subreportParameterExpression><![CDATA["Unsere Rechnung:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RECHNUNG">
					<subreportParameterExpression><![CDATA[$P{P_RECHNUNGSNUMMER}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RECHNUNGSDATUM_LABEL">
					<subreportParameterExpression><![CDATA["vom:"]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RECHNUNGSDATUM">
					<subreportParameterExpression><![CDATA[new SimpleDateFormat("dd.MM.yyyy").format($P{P_BELEGDATUM_ZU_RECHNUNGSNUMMER})]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File(com.lp.util.HelperReport.getSubreportPath($P{P_MODUL}, "beleginfoblock", $P{MANDANT_C_NR},  $P{REPORT_LOCALE}, $P{P_SUBDIRECTORY}) ).toURL()]]></subreportExpression>
			</subreport>
		</band>
	</title>
	<pageHeader>
		<band height="152" splitType="Stretch">
			<printWhenExpression><![CDATA[new Boolean($V{PAGE_NUMBER}.intValue() > 1)]]></printWhenExpression>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="GUTSCHRIFT NR" mode="Transparent" x="0" y="132" width="505" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="4d4a386a-f2fb-463f-9a80-2fd761ddfdac"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Storno_zu_RE} == null ?
($P{P_GUTSCHRIFT_NENNT_SICH_RECHNUNGSKORREKTUR} ?
    "RECHNUNGSKORREKTUR NR: RK " + $P{P_BELEGKENNUNG} :
    $P{P_RECHNUNGSART}.toUpperCase()+" NR: GS " + $P{P_BELEGKENNUNG}
) :
"STORNO NR: "+ $P{P_BELEGKENNUNG}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="P_KOPIE_NUMMER" mode="Transparent" x="271" y="122" width="234" height="10" forecolor="#000000" backcolor="#FFFFFF" uuid="a06738a4-61f6-4608-88ca-9cad9ae7a28d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<printWhenExpression><![CDATA[new Boolean($P{P_KOPIE_NUMMER} != null)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="8" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_KOPIE_NUMMER} + ". Kopie"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="42" splitType="Stretch">
			<printWhenExpression><![CDATA[true /* damit eventuelle Seriennummern angedruckt werden */ 
/*$F{Positionsart}.startsWith( "Ident" ) ||
$F{Positionsart}.startsWith( "Hand" )*/]]></printWhenExpression>
			<textField pattern="###000" isBlankWhenNull="true">
				<reportElement key="Position-1" mode="Transparent" x="0" y="0" width="23" height="17" isRemoveLineWhenBlank="true" forecolor="#FFFFFF" backcolor="#FFFFFF" uuid="2cf58b32-7327-4cae-bc35-0bfd5ed7e342">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Position}]]></textFieldExpression>
			</textField>
			<textField pattern="###000" isBlankWhenNull="true">
				<reportElement key="Position" mode="Transparent" x="0" y="5" width="23" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="0f6d9b1e-e885-4595-9495-534822bbee77">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Position}]]></textFieldExpression>
			</textField>
			<textField pattern="###0" isBlankWhenNull="true">
				<reportElement key="SubPosition-1" mode="Transparent" x="17" y="5" width="17" height="12" isRemoveLineWhenBlank="true" uuid="d2933469-b2bc-4359-a745-f8e88373ead8">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("Ident          ") || $F{Positionsart}.equals("Handeingabe    "))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{SubPosition}.intValue() > 0 ?
"."+new Integer($V{SubPosition}.intValue()/2)
: null]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="Ident" mode="Transparent" x="35" y="5" width="205" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="cbacf5e9-f08f-4d5e-aeba-0059f96dc1eb">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="styled">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Ident}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0##;-#,##0.0##" isBlankWhenNull="true">
				<reportElement key="Menge" mode="Transparent" x="240" y="5" width="50" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="2af782a3-81c3-4885-bd35-7f89cec739a3">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Menge}.multiply($V{GS_KORR_FAKTOR})]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="Einheit" mode="Transparent" x="295" y="5" width="25" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="7f9d9d2e-bdd3-407b-bba7-3c74ec18e42b">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Einheit}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00##;-#,##0.00##" isBlankWhenNull="true">
				<reportElement key="Einzelpreis" mode="Transparent" x="320" y="5" width="65" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="8a9ecc1f-5ab8-441c-bced-6e5ad254cd86">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Rabatt} != null &&
($F{Rabatt}.compareTo(new Float(0.0)) < 0) &&
$P{P_RABATTSPALTE_DRUCKEN}.booleanValue()
? ($F{Einzelpreis}.subtract($F{Einzelpreis}.multiply(new BigDecimal($F{Rabatt}.floatValue()).movePointLeft(2)))).setScale(4,BigDecimal.ROUND_HALF_UP)
: $F{Einzelpreis}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="Rabatt" mode="Transparent" x="385" y="5" width="30" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="2429f836-85d1-4d33-a850-d0ccac7342e2">
					<printWhenExpression><![CDATA[new Boolean(($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))&&$P{P_RABATTSPALTE_DRUCKEN}.booleanValue())]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="9" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["" + ($F{Rabatt} != null && ($F{Rabatt}.compareTo(new Float(0.0)) > 0) ? (new DecimalFormat("#,##0.##",new DecimalFormatSymbols($P{REPORT_LOCALE}))).format( $F{Rabatt})  : "" )  +
($F{F_ZUSATZRABATT} != null && !$F{F_ZUSATZRABATT}.equals(new Float(0) )
? "\n"+(new DecimalFormat("#,##0.##",new DecimalFormatSymbols($P{REPORT_LOCALE}))).format($F{F_ZUSATZRABATT}) : "")
+ ""]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement key="Gesamtpreis" mode="Transparent" x="415" y="5" width="70" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="412342a1-5709-400b-b3c9-8503a1e410be">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.trim().equals("Ident") || $F{Positionsart}.trim().equals("Handeingabe") || $F{Positionsart}.trim().equals("Lieferschein"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Gesamtpreis}.multiply($V{GS_KORR_FAKTOR})]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0;-#,##0.0" isBlankWhenNull="true">
				<reportElement key="Mwstsatz" mode="Transparent" x="485" y="5" width="15" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="d38de172-1d25-4e98-8f6a-af721872fd01">
					<printWhenExpression><![CDATA[new Boolean($F{Mwstsatz}!=null)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Mwstsatz}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="STKLARTIKELCNR" mode="Transparent" x="35" y="5" width="100" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="2ffbe9ff-0d62-4f5a-bb6e-ea96e1ab6112">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("Stuecklistenpos"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{F_STKLARTIKELCNR}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="STKLARTIKELBEZ" mode="Transparent" x="140" y="5" width="245" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="383cf657-53b2-4d87-80e9-a49c59c5ba26">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("Stuecklistenpos"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{F_STKLARTIKELBEZ}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.0##;-#,##0.0##" isBlankWhenNull="true">
				<reportElement key="STKLMENGE" mode="Transparent" x="390" y="5" width="40" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="4e518fb5-8b57-41f6-a473-92292df64cac">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("Stuecklistenpos"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{F_STKLMENGE}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="STKLEINHEIT" mode="Transparent" x="435" y="5" width="30" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="9862d0f8-c951-4504-8629-bf99440cf8b8">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("Stuecklistenpos"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{F_STKLEINHEIT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="SERIENCHARGENRFELD" positionType="Float" mode="Transparent" x="35" y="17" width="255" height="0" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="e35b9f71-7a88-4881-9976-aee4e3bf1224">
					<printWhenExpression><![CDATA[new Boolean($F{Positionsart}.equals("SERIENNR") || $F{Positionsart}.equals("CHARGENR"))]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement verticalAlignment="Top" rotation="None" markup="styled">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Positionsart}.equals("CHARGENR") ?
""+($F{F_CHARGE_MINDESTHALTBARKEIT}!=null?("MHD: "+$F{F_CHARGE_MINDESTHALTBARKEIT}+ "  "):"")
+"Chargenr.: "+ $F{F_SERIENCHARGENR}
+ ($F{F_SERIENCHARGENR_MENGE}!=null?("   Menge: " +$F{F_SERIENCHARGENR_MENGE}):"") :
"Seriennr.: "+ $F{F_SERIENCHARGENR}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="Leerzeile" mode="Transparent" x="0" y="0" width="505" height="0" forecolor="#000000" backcolor="#FFFFFF" uuid="f95dd2f9-2ebe-4d3b-b276-681ac10fe35f"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Leerzeile}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00##;-#,##0.00##" isBlankWhenNull="true">
				<reportElement key="Materialzuschlag" mode="Transparent" x="240" y="17" width="80" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="9402d029-8ca9-47ba-981e-3bea41abe14d">
					<printWhenExpression><![CDATA[($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
($F{F_SETARTIKEL_TYP} == null || $F{F_SETARTIKEL_TYP}.compareTo( "Kopf" ) == 0) &&
$F{Materialzuschlag}.compareTo(new BigDecimal(0.00)) != 0]]></printWhenExpression>
				</reportElement>
				<box leftPadding="0" rightPadding="0">
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Materialzuschlag"]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00##;-#,##0.00##" isBlankWhenNull="true">
				<reportElement key="Materialzuschlag_Betrag" mode="Transparent" x="320" y="17" width="65" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="6a5a0ab6-ad66-4975-bec0-8e9ddc506393">
					<printWhenExpression><![CDATA[($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
($F{F_SETARTIKEL_TYP} == null || $F{F_SETARTIKEL_TYP}.compareTo( "Kopf" ) == 0) &&
$F{Materialzuschlag}.compareTo(new BigDecimal(0.00)) != 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Materialzuschlag}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00##;-#,##0.00##" isBlankWhenNull="true">
				<reportElement key="Materialzuschlag_Einheit" mode="Transparent" x="388" y="17" width="50" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="7fb23d32-79ca-4635-8bfc-c2738a662901">
					<printWhenExpression><![CDATA[($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
($F{F_SETARTIKEL_TYP} == null || $F{F_SETARTIKEL_TYP}.compareTo( "Kopf" ) == 0) &&
$F{Materialzuschlag}.compareTo(new BigDecimal(0.00)) != 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_WAEHRUNG}+" / "+$F{Einheit}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="Subreport_Bild" positionType="Float" mode="Transparent" x="35" y="40" width="480" height="1" forecolor="#000000" backcolor="#FFFFFF" uuid="a9c50a8b-80f9-444a-bd2c-2eaa4f5af835"/>
				<subreportParameter name="P_IMAGE">
					<subreportParameterExpression><![CDATA[$F{Image}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File($P{P_LOGO_SUBREPORT}.replaceFirst("logo.","bewegungs_bild.")).toURL()]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="false">
				<reportElement key="Set_besteht_aus-1" positionType="Float" mode="Transparent" x="35" y="30" width="132" height="10" isRemoveLineWhenBlank="true" uuid="2c698db3-fb07-4e02-bb02-1bd5948cb4bd">
					<printWhenExpression><![CDATA[new Boolean($F{F_SETARTIKEL_TYP}.compareTo( "Kopf" ) == 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="8" isUnderline="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Setartikel besteht aus:"]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0" isBlankWhenNull="true">
				<reportElement key="Karton" mode="Transparent" x="245" y="17" width="45" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="cb397f6f-3de7-4407-96e4-78223fb52c0f">
					<printWhenExpression><![CDATA[$P{P_VERPACKUNGSMENGEN_EINGABE}.intValue() > 0 &&
($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
$V{Verpackung_Karton} != null && $V{Verpackung_Karton}.intValue() > 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Verpackung_Karton}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="Karton" mode="Transparent" x="292" y="17" width="25" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="f6c7a6a1-1ddb-4b3a-8efb-7d8abfc22f18">
					<printWhenExpression><![CDATA[$P{P_VERPACKUNGSMENGEN_EINGABE}.intValue() > 0 &&
($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
$V{Verpackung_Karton} != null && $V{Verpackung_Karton}.intValue() > 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Krt "+
($V{Verpackung_Einzel}.doubleValue() != 0 ? "+" : "")]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.###;-#,##0.###" isBlankWhenNull="true">
				<reportElement key="Einzelmenge" mode="Transparent" x="317" y="17" width="20" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="6976662e-d01b-4ed5-94d0-79e72a18639e">
					<printWhenExpression><![CDATA[$P{P_VERPACKUNGSMENGEN_EINGABE}.intValue() > 0 &&
($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
$V{Verpackung_Karton} != null && $V{Verpackung_Karton}.intValue() > 0 &&
$V{Verpackung_Einzel}.doubleValue() != 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Verpackung_Einzel}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="Einheit" mode="Transparent" x="340" y="17" width="25" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="39928a00-c92f-4cab-ab9e-549d81ae783a">
					<printWhenExpression><![CDATA[$P{P_VERPACKUNGSMENGEN_EINGABE}.intValue() > 0 &&
($F{Positionsart}.equals("Ident          ") ||
 $F{Positionsart}.equals("Handeingabe    ")) &&
$V{Verpackung_Karton} != null && $V{Verpackung_Karton}.intValue() > 0 &&
$V{Verpackung_Einzel}.doubleValue() != 0]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="true" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Einheit}]]></textFieldExpression>
			</textField>
		</band>
		<band height="12">
			<printWhenExpression><![CDATA[!($F{Positionsart}.startsWith( "Ident" ) ||
   $F{Positionsart}.startsWith( "Hand" ) )]]></printWhenExpression>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="Freiertext" mode="Transparent" x="33" y="0" width="452" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="617c7282-c37b-426a-af70-4ff1753e3963"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="styled">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{Freiertext}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="64" splitType="Stretch">
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="PAGE_NUMBER" positionType="FixRelativeToBottom" mode="Transparent" x="365" y="-10" width="130" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="394b5b4b-6f43-4ace-8dde-5fa45edec9b4">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" rotation="None">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Seite " + String.valueOf($V{PAGE_NUMBER}) + " von "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="VON_PAGE_NUMBER" positionType="FixRelativeToBottom" mode="Transparent" x="495" y="-10" width="9" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="44fef055-15e8-4d68-9f4a-f6a9fc881e33">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" rotation="None">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="74">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="PAGE_NUMBER" positionType="FixRelativeToBottom" mode="Transparent" x="365" y="0" width="130" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="a719faf3-5096-425e-b8ff-bd4ee01d149e">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" rotation="None">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Seite " + String.valueOf($V{PAGE_NUMBER}) + " von "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="false">
				<reportElement key="VON_PAGE_NUMBER" positionType="FixRelativeToBottom" mode="Transparent" x="495" y="0" width="9" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="9df9ad30-e9cc-45e8-901c-ec6081deca0f"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" rotation="None">
					<font fontName="Arial" size="6" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
	<summary>
		<band height="84" splitType="Stretch">
			<line>
				<reportElement key="line-7" mode="Opaque" x="365" y="1" width="120" height="1" forecolor="#000000" backcolor="#FFFFFF" uuid="0552f329-b5fa-4b5f-ba32-3f2b8e9bd184">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<graphicElement fill="Solid">
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="WAEHRUNG-1" mode="Transparent" x="350" y="2" width="40" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="0cbc531d-d311-4f05-8c7e-8075b2b1daa5">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_WAEHRUNG}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement key="SUMME_GESAMTPREIS-1" mode="Transparent" x="390" y="2" width="95" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="4e05f6a9-f1e1-443b-945d-74d56d4612e9">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{V_SUMME_GESAMTPREIS}.multiply($V{GS_KORR_FAKTOR})]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="abzüglich + ALLGEMEINER_RABATT-1" mode="Transparent" x="0" y="15" width="350" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="6aceb163-4bb0-4c8f-844a-12cd55b1c371">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["abzüglich " + $P{P_ALLGEMEINER_RABATT} + "% Rabatt"]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="WAEHRUNG-2" mode="Transparent" x="350" y="15" width="40" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="e82dc5d1-c97f-4b2c-a199-a08bcb62450d">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_WAEHRUNG}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement key="RABATTSUMME-1" mode="Transparent" x="390" y="15" width="95" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="7308be39-8182-4b84-9721-bc8bad412109">
					<printWhenExpression><![CDATA[$V{V_ALLGEMEINER_RABATT}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{V_RABATTSUMME}.multiply($V{GS_KORR_FAKTOR})]]></textFieldExpression>
			</textField>
			<line>
				<reportElement key="line-8" mode="Opaque" x="365" y="28" width="120" height="1" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="9bde5a43-5dbd-4a23-9562-08b1561ae616"/>
				<graphicElement fill="Solid">
					<pen lineWidth="0.5" lineStyle="Solid"/>
				</graphicElement>
			</line>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="Nettosumme" mode="Transparent" x="200" y="30" width="150" height="12" forecolor="#000000" backcolor="#FFFFFF" uuid="bba19b87-a554-4b5f-b908-e1ae60be1882">
					<printWhenExpression><![CDATA[new Boolean($P{P_MWST_TABELLE_LINKS}.length()>1) &&
!($P{P_REVERSECHARGE_INLAND} || $P{P_REVERSECHARGE_AUSLAND})]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Nettosumme"]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="WAEHRUNG-3" mode="Transparent" x="350" y="30" width="40" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="0bfa719d-8b98-4aa6-8b29-9a8ead60b1cb">
					<printWhenExpression><![CDATA[new Boolean($P{P_MWST_TABELLE_LINKS}.length()>1) &&
!($P{P_REVERSECHARGE_INLAND} || $P{P_REVERSECHARGE_AUSLAND})]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{P_WAEHRUNG}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0.00;-#,##0.00" isBlankWhenNull="true">
				<reportElement key="Nettosumme-2" mode="Transparent" x="390" y="30" width="95" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="55eb8edc-67b5-45f2-8ec1-fb1a0873c700">
					<printWhenExpression><![CDATA[new Boolean($P{P_MWST_TABELLE_LINKS}.length()>1) &&
!($P{P_REVERSECHARGE_INLAND} || $P{P_REVERSECHARGE_AUSLAND})]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[($V{V_SUMME_GESAMTPREIS}.subtract($V{V_RABATTSUMME})).multiply($V{GS_KORR_FAKTOR})]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="subreport-rech_gutschrift_summary" mode="Transparent" x="0" y="42" width="505" height="20" forecolor="#000000" backcolor="#FFFFFF" uuid="89f28c97-a2f6-4d25-ae96-69b02d9415c8"/>
				<subreportParameter name="REPORT_ROOT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_ROOT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MWST_TABELLE_WAEHRUNG">
					<subreportParameterExpression><![CDATA[$P{P_MWST_TABELLE_WAEHRUNG}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_RECHNUNGSENDBETRAG">
					<subreportParameterExpression><![CDATA[$P{P_STORNIERT} ?
((BigDecimal)(com.lp.util.HelperReport.getMwstSummeAusListeMwstsaetze(
    $P{P_MWST_TABELLE_RECHTS},  $P{REPORT_LOCALE}
)).add($V{V_SUMME_GESAMTPREIS}.subtract($V{V_RABATTSUMME})))
:
$P{P_RECHNUNGSENDBETRAG}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MWST_TABELLE_BETRAG">
					<subreportParameterExpression><![CDATA[$P{P_MWST_TABELLE_BETRAG}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_WAEHRUNG">
					<subreportParameterExpression><![CDATA[$P{P_WAEHRUNG}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_KUNDE_LAENDERART">
					<subreportParameterExpression><![CDATA[$P{P_KUNDE_LAENDERART}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_REVERSECHARGE_INLAND">
					<subreportParameterExpression><![CDATA[$P{P_REVERSECHARGE_INLAND}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_IGWARENVERKEHR">
					<subreportParameterExpression><![CDATA[$P{P_IGWARENVERKEHR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_STORNIERT">
					<subreportParameterExpression><![CDATA[$P{P_STORNIERT}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MWST_TABELLE_LINKS">
					<subreportParameterExpression><![CDATA[$P{P_MWST_TABELLE_LINKS}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="REPORT_DIRECTORY">
					<subreportParameterExpression><![CDATA[$P{REPORT_DIRECTORY}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="GS_KORR_FAKTOR">
					<subreportParameterExpression><![CDATA[$V{GS_KORR_FAKTOR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_REVERSECHARGE_AUSLAND">
					<subreportParameterExpression><![CDATA[$P{P_REVERSECHARGE_AUSLAND}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="P_MWST_TABELLE_RECHTS">
					<subreportParameterExpression><![CDATA[$P{P_MWST_TABELLE_RECHTS}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[new java.io.File(com.lp.util.HelperReport.getSubreportPath($P{P_MODUL}, "rech_gutschrift_summary", $P{MANDANT_C_NR},  $P{REPORT_LOCALE}, $P{P_SUBDIRECTORY}) ).toURL()]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="Fusstext + Vertreter" positionType="Float" mode="Transparent" x="0" y="71" width="505" height="12" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF" uuid="25cdc1cf-5176-424b-bd2e-0de9eaa8a548"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#FFFFFF"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" markup="styled">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{P_FUSSTEXT}!= null && $P{P_FUSSTEXT}.length() > 5 ? $P{P_FUSSTEXT}+"\n" : "")+
$P{P_VERTRETER}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true">
				<reportElement key="Subreport_Partnerkommentar" positionType="Float" mode="Transparent" x="0" y="66" width="505" height="1" forecolor="#000000" backcolor="#FFFFFF" uuid="8345632f-1c7f-47d5-8f03-f4c1d4cf8d2f"/>
				<dataSourceExpression><![CDATA[$P{P_SUBREPORT_PARTNERKOMMENTAR}]]></dataSourceExpression>
				<subreportExpression><![CDATA[new java.io.File(com.lp.util.HelperReport.getSubreportPath($P{P_MODUL}, "partnerkommentar", $P{MANDANT_C_NR},  $P{REPORT_LOCALE}, $P{P_SUBDIRECTORY}) ).toURL() 
/* new java.io.File($P{P_LOGO_SUBREPORT}.replaceFirst("logo.","partnerkommentar.")).toURL() */]]></subreportExpression>
			</subreport>
		</band>
	</summary>
</jasperReport>
